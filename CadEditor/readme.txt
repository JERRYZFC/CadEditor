-------------------------------------------------------------------------------
[RUS]
Редактор уровней для игр [NES].
Версия 2.3
-------------------------------------------------------------------------------
Поддерживаемые игры:
  редактор экранов/макроблоков/блоков/списков врагов:
    Chip&Dale                                       (все уровни)
    Darkwing Duck                                   (все уровни)
    Duck Tales                                      (все уровни)
    Duck Tales 2                                    (все уровни)
    Little Mermaid                                  (все уровни) 
    Tale Spin                                       (все уровни)
    Tiny Toon                                       (все уровни)
  редактор экранов/макроблоков/блоков:
    Mega Man 4                                      (8 уровней)
    Three Eyes Story                                (1 уровень)
  редактор экранов картинками:
    Jungle Book                                     (1-9 уровни + редактор объектов 1 уровня)
    Chip & Dale 2                                   (1-1 уровни + редактор объектов 1 уровня)
    Flintstones: The Rescue of Dino & Hoppy         (1 уровень  + редактор объектов 1 уровня)
    Ninja Cat (Cattou Ninden Teyandee)              (все уровни)
    Battletoads & Double Dragon - The Ultimate Team (5 уровень)
    Battletoads                                     (1 уровень)
    Tom & Jerry                                     (1 уровень)
    Flintstones: The Surprise at Dinosaur Peak!     (1 уровень)
    New Ghostbusters 2                              (1 уровень)
    Power Blade 2                                   (1 уровень)
    Rockin' Kats                                    (1 уровень)
    Teenage Mutant Ninja Turtles                    (1 уровень)
    Shatterhand (Tokkyuu Shirei Solbrain)           (1 уровень)
    Contra Force                                    (1 уровень)
    Little Nemo                                     (1 уровень)
    Shadow of the Ninja                             (1 уровень)
    Ninja Gaiden                                    (1 уровень)
    Super C                                         (1 уровень)
    Captain America                                 (1 уровень)
    Monster in My Pocket                            (1 уровень)
    Batman                                          (1 уровень)
    Adventures Island 2                             (1 уровень)
    Adventures Island 3                             (1 уровень)
редактор экранов картинками (Sega)
    Contra Hard Corps                               (1 уровень)
    Tiny Toon Adventures: Buster's Hidden Treasure  (1 уровень)
    Zombies Ate My Neighbors                        (1 уровень)
    QuackShot                                       (1 уровень)
------------------------------------------------------------------------------- 
!!! Рекомендуется копировать файл с промежуточным результатом в отдельную папку
    и проверять на работоспособность почаще!
-------------------------------------------------------------------------------
Управление: 

  Редактор экрана.
    Левая панель - выбор активного объекта.
    Screen no - выбор экрана для редактирования. Некоторые экраны (185-256) используются для хранения данных об объектах, поэтому их редактировать нельзя.
    View type - просмотр обычных тайлов или карты проходимости уровня.
    Game - переключатель вида редактора(общий или под конкретную игру)
    
    (в обобщенном редакторе переключатель вида указавает только как ПОКАЗЫВАТЬ ЭКРАНЫ В РЕДАКТОРЕ, а не как будут выглядеть экраны в игре. Как они будут выглядеть в игре зависит от параметров уровня).
    Video Block - выбор активного банка видеопамяти
    Big Block - выбор активного набора макроблоков
    Block - выбор активного набора блоков
    Pallete - выбор активной палитры
    Width - ширина раскладки уровня
    Hegiht - высота раскладки уровня
    
    View as и Door - выбор, с помощью какого блока видеопамяти просматривать экран (смотреть можно с помощью любого блока видеопамяти, но лучше выбирать тот, который будет реально использоваться в игре).
    Edit tiles - открыть редактор макротайлов.
    Edit objs  - открыть редактор тайлов.
    Edit layout - открыть редактор формы уровня.
    Edit enemies - открыть редактор врагов.
    Save - сохранить результат в файл (сохраняются сразу все отредактированные экраны).
    
  Редактор макротайлов
    Select tileset - выбор редактируемого набора макротайлов (наборы могут быть общими для нескольких уровней / дверей).
    View with level / door - выбор, с помощью какой видеопамяти просматривать макротайлы. Для правильного редактирования нужно выбирать правильный набор.
      
  Редактор тайлов 
    Level - выбор уровня (* объекты могут быть общие для нескольких уровней, как и у макротайлов)
    Door  - выбор с помощью какой видеопамяти просматривать тайлы.
    View with subpallete - выбор с помощью какой части палитры просматривать выбранный блок видеопамяти.
    Edit backs - открыть редактор фонов за собираемыми объектами. Фонов 16 штук на уровень, и выбираемый игрой зависит от последних 4 байт номера объекта. Например, если ящик имеет номер FC -  1111 1100, то 4 младших бита означают индекс 12 в массиве фонов, значит, после поднятия ящика тайл за ним заменится на объект на 12.
    
  Редактор формы уровня
    Левая панель - выбор активного элемента редактирования (экрана, скролла или двери).
    Центральная панель - щелчок по синей стрелке разворачивает направление сортировки объектов на заданном этаже (если используется скролл влево или в обе стороны, надо не забывать правильно указывать направление).
    Правая панель - просмотр порядка экранов, как они будут идти в игре.
    Make preview - самая важная кнопка :) Позволяет проверить правильность построения уровня. При нажатии на нее рассчитается порядок экранов, как они будут идти в игре и выбранные набора видеопамяти и палитры с учетов всех дверей переключателей. По мини-копиям экранов можно убедиться в том, что они отрисовались правильно.
    Edit level params - открыть редактор свойств дверей и уровней.
    
  Редактор свойств дверей/уровней
    Select level - выбрать уровень или дверь для редактирования свойств.
    Objects/ Back Graphic Bank No - выбор используемого номера блока видеопамяти.
    Palette No, Palette 2 No - выбор основной и запасной палитры (запасная используется для окраски некоторых объектов типа вжика и рокки и для блинка экрана).
    Palette blink byte - байт, задающий мерцание (точно не знаю, как именно).
    Start screen index - номер первого экрана в раскладке (экраны нумеруются по порядку слева направо, сверху вниз).
      Например для первого уровня раскладка выглядит так:
        layout @ 1E2D3: (level 1)
        1E2D3:
        16 17 18 19 1A 1B 00 <- inside area 00
        0F 10 11 12 13 14 15
        0E 00 00 00 1D 00 1C <- boss entrance 12
        08 09 0A 0B 0C 0D 00
        00 00 00 00 00 07 00
        01 02 03 04 05 06 00
      информация отсюда : http://acmlm.no-ip.org/board/thread.php?id=5821
      
      Стартовая комната - 01, она имеет индекс 23 в раскладке. Стартовые комнаты для уровней должны быть в нижнем левом углу, для дверей могут быть любыми.
      
    Layout width, Layout height - размеры раскладки по длине и ширине. Нельзя увеличивать общую площадь и высоту!!! (площадь из-за того, что перетрутся соседние данные, высоту из-за того же, так как кроме раскладки есть еще специальные байты направления для каждого этажа уровня и они в оригинальном роме расположены вплотную к описаниям объектов).
    Layout address, Scroll doors address, Stage direction address - адреса раскладки, данных о скролле и данных о направлении движения по этажам. Пока только для чтения.
    Big block id - номер "архитектуры" - набора из больших и малых тайлов, из которых будут строиться экраны уровня.
    Music no - номер трека на уровне.
    Start screen X, Start screen Y - нужно указывать правильные координаты стартовых позиций для дверей, иначе враги после входа в дверь перестанут появляться!!! Координаты меряются справа налево и сверху вниз (для примера расладки первого уровня координаты самой первой комнаты будут X=0, Y=5).
    Player X, Player Y - стартовое положение бурундука на новом экране при переходе в дверь.
    
  Редактор врагов
    Select level - выбор уровня для редактирования.
    Screen No - выбор игрового экрана. Стрелки позволяют проматывать уровень в любом направлении. Экраны отрисовываются уже с рассчитанной правильной видеопамятью (вычисляется исходя набора дверей на уровне и скроллов). Если при отрисовке происходят ошибки, надо правильно настроить форму уровня и свойства дверей в редакторе формы. Враги сортируются редактором в момент сохранения в таком порядке, чтобы они правильно появлялись в игре (в зависимости от формы уровня, дверей и направлений - всё это настраивается в редакторе формы уровня). (!!!) из-за хака разработчиков на уровне D объекты невозможно правильно отсортировать. В текущей версии редактора НЕЛЬЗЯ редактировать врагов на этом уровне. Это возможно только в версии 0.4.
    Правая панель - просмотр врагов (координат, номера экрана, на котором враг появляется и типа врага). Кнопка Delete на клавиатуре - удаление выбранных врагов. Кнопка Clear all objects at screen - очищение всех врагов на выбранном экране.
    Manual sort - отключение автоматической сортировки врагов. Порядок после этого настраивается кнопками со стрелками. Опция используется, когда в редакторе раскладок создана такая форма уровня, что автоматически отсортировать врагов невозможно. Враги должны быть расставлены в том порядке, в котором они идут в игре и должно соблюдаться дополнительное условие - после входа в дверь игра использует первого найденного с начала списка врага с подходящими координатами (во избежание ошибок проще всего делать двери только на новые этажи).
 
-------------------------------------------------------------------------------
История версий
-------------------------------------------------------------------------------
v0.2
- исправил порядок последних экранов на первом уровне.
- исправил мелкий баг считавания - теперь можно добавлять во вторые части уровня на один объект больше :)
- добавил экран последнего босса
- добавил картинки объектов
- улучшения панели объектов - добавлены картинки и возможность выделять несколько объектов для удаления на панели объектов (зажимая CONTROL или SHIFT)
- сделал редактор блоков (кнопка edit tiles)
- предложение сохраниться при выходе.
- !!! выходной файл при сохранении называется также как и входной теперь. Не забывайте делать бекапы этого файла!!!)

v0.3
- графика (видеопамять, описание объектов, палитра) берется из ROM. Теперь можно открывать хаки с измененной графикой.
- редактор объектов - возможность составлять объекты из тайлов видеопамяти, задавать им палитру и тип в игре.
- предложение сохраниться при переходе в субредактор.
- добавлена сортировка объектов на экране слева направо (при обратном скролле справа налево).

v0.4
- исправлен баг неправильного удаления объекта.
- возможность тонкой настройки координат объекта.
- просмотр карты проходимости уровня.

v0.5b
- структуры данных в редакторе соответствуют тому, как они устроены в игре, практически все адреса и указатели считываются из ROM.
- редактор формы уровня (бета-версия):
  - в целях оптимизации экраны прорисовываются только в момент нажатия на кнопку preview. 
  - простая защита от построения зацикленных уровней.
  - условная графика дверей и скроллов:
- редактор параметров уровней/дверей (бета-версия):
  - необходимость вручную указывать номера комнат для перехода.
  - нет защиты от случайного ввода неправильных значених размеров уровня.
  - нет защиты от неправильно направленной двери (из-за ограничений движка двери на одной высоте могут вести только в комнату левее исходной).
  - редактирование номера музыкального трека на уровне :)
- редактор врагов:
  - автоматическая сортировка порядка появления врагов на уровне (не работает на уровне D, из-за хака с боссом)
  - просмотр уровня в том виде и форме, в каком он будет в игре.
- улучшения редактора экрана:
  - возможность просматривать экран с любой заданной видеопамятью.
  - упрощение редактирования стыков (дорисовываются соседний экраны).
  - отделен от редактора врагов.
  - просмотр номеров-типов объектов
- тайлы и макротайлы можно смотреть с любой выбранной видеопамятью.

v0.6b
- сортировка объектов снизу вверх на подъемах
- редактор беков поднимаемых объектов
- отображение экранов на развилках
- возможность ручной сортировки врагов- номера экранов сдвинуты на 1, чтобы соответствовали номерам в раскладке

v0.7
- возможность выбора имени открываемого ROM
- возможность указания параметров смещений в ROM.
- оптимизирована перерисовка экранов.
- добавлена возможность обобщенного редакторирование игровых экранов (поддерживается редактирование экранов игры Darkwing Duck)

v0.8
- редактор раскладок уровня для Darkwing Duck
- редактор врагов для Darkwing Duck

v0.9
- просмотрщик видеопамяти
- редактор экранов, врагов, раскладок, блоков и макроблоков для Duck Tales
- набор иконок для обобщенного просмотра

v1.0
- добавил способ отображения блоков и макроблоков (тайлы или номера)
- добавил оси для редактора макроблоков
- редактор палитр в просмотрщике видеопамяти
- возможность редактировать скроллы Черного Плаща с помощью редактора скроллов Чипа и Дейла

v1.1
- новая система скриптовых конфигов.
- редактор экранов для Duck Tales 2.
- фикс нескольких ошибок редактора врагов для Duck Tales 1

v1.2
- редакторы врагов, блоков и макроблоков для Duck Tales 2 (пока только для просмотра).
- вынес в конфиги адреса раскладки и списка объектов уровня.
- новые картинки объектов для Darkwing Duck.
- иконка приложения.

v1.3
- подпись номеров цветов палитры
- возможность делать вертикальное и горизонтальное отражение видеопамяти в редакторе блоков.
- поддержка в скриптовых настройках функции сохранения видеопамяти.
- скрипты-настройки для рома Darkwing Duck Advance.
- кнопка очистки блоков и макроблоков для создания нового уровня.
- при смене типа отображения блоков и макроблоков сохраняется позиция скролла.
- фикс мелких багов
- импорт/экспорт видеопамяти, блоков, макроблоков и экранов

v1.4
- шестнадцатеричный редактор с подсветкой редактируемых зон для редактора экранов.
- возможность включить/выключить сетку в редакторе экранов и блоков.
- кнопка экспорта всей карты уровня в картинку в редакторе раскладок.

v1.5
- опция для поддержки быстрого перемещения объектов в списке (с зажатым shift - перемещение на 10 позиций вверх или вниз)
- редактор скроллов для Darkwing Duck
- редактор экранов, блоков и макроблоков для первых восьми уровней MegaMen 4.

v1.6
- редактор экранов, блоков и макроблоков для Little Mermaid и Tale Spin.

v1.7
- редактор экранов, блоков и макроблоков для всех подуровней 1 уровня Tiny Toon Adventures.
- поддержка переменного размера экрана в конфигах.
- в конфиги добавлены функции получения палитры и макроблоков из ROM.
- уменьшение размера конфигов за счет поддержки наследования от базового общего capcom-конфига.
- изменяемый размер главного окна.

v1.8
- поддержка редактора экранов с помощью заготовленных картинок.
- оптимизация отрисовки больших экранов.
- фикс мелких багов.
- редактор экранов, блоков и макроблоков для всех подуровней 2,3,4 уровня Tiny Toon Adventures.
- редактор экранов с помощью картинок для 1-го уровня Battletoads.
- редактор экранов с помощью картинок для уровня 1-1 Tom & Jerry.
- редактор экранов с помощью картинок для 1,3,4,5,9 уровней Jungle Book.

v1.9
- новые опции в конфигах (функция описания блоков, поддержка вертикальных экранов), позволившие подключить новые игры.
- конфиги редактора экранов картинками для Tom & Jerry (уровень 1-2) и Flintstones: Rescue Dino & Hoppy (уровень 1).
- конфиги для всех уровней Tiny Toon Adventures.
- конфиги для уровня 1-1 Mitsume ga Tooru (Three Eyes). 
- работающие экраны блоков и макроблоков для Tiny Toon Adventures.
- возможность передать имя рома и конфига через параметры командной строки.
- корректное повторное открытие игры из редактора.
- фикс багов.

v1.9.5
- масштабирование экрана
- новая опция в конфига - поддержка прямоугольных макроблоков
- конфиги для первых уровней игр Chip & Dale 2, New Ghostbusters 2, Power Blade 2, Flintstones 2.

v2.0
- улучшения редактора:
  главное окно - возможность задать функцию отладочного рисования поверх карты уровня, например, для вывода информации об игровых объектах. 
  главное окно - отображение координат блока под мышкой.
  окно редактора врагов - новые инструменты для выделения и удаления объектов.
  окно редактора врагов - возможность изменить тип редактируемого объекта.
  окно редактора врагов - отображение числа свободных ячеек под новые объекты.
- включено редактирование блоков и макроблоков для Duck Tales 2.
- большинство параметров конфигов теперь не обязательно указывать для тех игр, в которых не используются все возможности.
- Конфиги для игр:
  Jungle Book, уровни 1-9.
  Rockin' Kats, уровни 1-1, 1-2.
  Teenage Mutant Ninja Turtles, уровень 1.
  Ninja Cat (Cattou Ninden Teyandee), уровни 1,2,3.
  Battletoads & Double Dragon - The Ultimate Team, уровень 5.
  Shatterhand (Tokkyuu Shirei Solbrain), уровень 1.
  Contra Force, уровень 1.
  Little Nemo, уровень 1.
  
v2.1
- Редактор карты и титульного экрана для Darkwing Duck.
- Конфиги для игр (по 1 уровню):
    Shadow of the Ninja
    Ninja Gaiden       
    Super C            
    Captain America    
    Monster in My Pocket
    Batman             
    Adventures Island 2
    Adventures Island 3
- Редактор экранов, дампы и конфиги для сеговских игр Tiny Toon Adventures и Contra Hard Corps (по 1 уровню).
- Возможность экспортировать макроблоки как картинки.

v2.2
- Редактор врагов для игр Tale Spin, Little Mermaid, Tiny Toon Adventures.
- Конфиги для всех уровней игры Ninja Cats (портировано с редактора Ti_).
- Конфиги для 1 уровня игр Sega Zombies Ate My Neighbors (автор Nemesis_c).
- Фикс мелких багов.

v2.3
- Обобщенные редактор объектов (новые опции для описания в конфигах).
- Редакторы объектов для Jungle Book (уровень 1), Chip & Dale 2 (уровень 1-1) и Flintstones : Rescue of Dino & Hoppy (1 уровень).
- Конфиги для 1 уровня игр Sega QuackShot.

-------------------------------------------------------------------------------
Благодарности: 
-------------------------------------------------------------------------------
  evgeny    - идеи по развитию редактора, тестирование.
  Lomax     - тестирование.
  Roket     - тестирование, рисование иконок.
  EmsiD     - рисование иконок, создание хаков Darkwing Duck.
  Matrixz   - документация к megaman 4.
  Mefisto   - идеи по развитию редактора, тестирование, написание компрессоров для сеговских игр.
  Nemesis_c - конфиги для игры Zombies Ate My Neighbors.
  Ti_       - помощь с дизассеблированием, конфиги для игр Contra Force, Jungle Book, Little Nemo, Battletoads, Battletoads & Double Dragon, Shatterhand, Tom & Jerry, Ninja Cats
  
-------------------------------------------------------------------------------
Обратная связь: 
sanya.boyko@gmail.com
-------------------------------------------------------------------------------